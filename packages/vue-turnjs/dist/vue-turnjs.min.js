var VueTurnjs=function(t,e,i,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var p,h,u=function(t){return Array.isArray(t)},f=function(t){return Object.getOwnPropertyNames(t)},g=function(t){return Object.keys(t)},b=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},v=function(t){return null!==t&&"object"===r(t)},m=function(t){return"[object Object]"===Object.prototype.toString.call(t)},w="undefined"!=typeof window,y="undefined"!=typeof document,x="undefined"!=typeof navigator,k=w&&y&&x,_=k?window.navigator.userAgent.toLowerCase():"",P=_.indexOf("jsdom")>0,M=(/msie|trident/.test(_),function(){var t=!1;if(k)try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}}(),function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i="undefined"!=typeof process&&process&&process.env||{};return t?i[t]||e:i}("BOOTSTRAP_VUE_NO_WARN")}),O=function(t){return void 0===t},z=function(t){return null===t},C=function(t){return O(t)||z(t)},j=function(t){return"string"===function(t){return r(t)}(t)},S=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return u(e)?e.reduce((function(e,i){return[].concat(d(e),[t(i,i)])}),[]):m(e)?g(e).reduce((function(i,n){return l(l({},i),{},o({},n,t(e[n],e[n])))}),{}):i},T=function(t){return t},E=/\[(\d+)]/g,A=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!(e=u(e)?e.join("."):e)||!v(t))return i;if(e in t)return t[e];var n=(e=String(e).replace(E,".$1")).split(".").filter(T);return 0===n.length?i:n.every((function(e){return v(t)&&e in t&&!C(t=t[e])}))?t:z(t)?null:i},F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;M()||console.warn("[BootstrapVue warn]: ".concat(e?"".concat(e," - "):"").concat(t))},$=function t(e){return g(e).forEach((function(i){var n=e[i];e[i]=n&&(m(n)||u(n))?t(n):n})),function(t){return Object.freeze(t)}(e)}({FwBookblock:{},FwBookblock2:{},FwTurn:{}}),W="BvConfig",B=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$_config={},this.$_cachedBreakpoints=null}var e,i,n;return e=t,n=[{key:"Defaults",get:function(){return $}}],(i=[{key:"getDefaults",value:function(){return this.defaults}},{key:"setConfig",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(m(e)){var i=f(e);i.forEach((function(i){if(b($,i)){var n=e[i];if("breakpoints"===i){var r=e.breakpoints;!u(r)||r.length<2||r.some((function(t){return!j(t)||0===t.length}))?F('"breakpoints" must be an array of at least 2 breakpoint names',W):t.$_config.breakpoints=S(r)}else m(n)&&f(n).forEach((function(e){b($[i],e)?(t.$_config[i]=t.$_config[i]||{},O(n[e])||(t.$_config[i][e]=S(n[e]))):F('Unknown config property "'.concat(i,".").concat(e,'"'),W)}))}else F('Unknown config property "'.concat(i,'"'),W)}))}}},{key:"resetConfig",value:function(){this.$_config={}}},{key:"getConfig",value:function(){return S(this.$_config)}},{key:"getConfigValue",value:function(t){return S(A(this.$_config,t,A($,t)))}},{key:"defaults",get:function(){return $}}])&&a(e.prototype,i),n&&a(e,n),t}(),R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:OurVue;e.prototype.$bvConfig=OurVue.prototype.$bvConfig=e.prototype.$bvConfig||OurVue.prototype.$bvConfig||new B,e.prototype.$bvConfig.setConfig(t)},N=(p=!1,h=["Multiple instances of Vue detected!","You may need to set up an alias for Vue in your bundler config.","See: https://bootstrap-vue.org/docs#using-module-bundlers"].join("\n"),function(t){p||OurVue===t||P||F(h),p=!0}),I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.components,i=t.directives,n=t.plugins,r=function t(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.installed||(t.installed=!0,N(r),R(a,r),q(r,e),Z(r,i),X(r,n))};return r.installed=!1,r},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.components,i=t.directives,n=t.plugins,r=function t(r){t.installed||(t.installed=!0,N(r),q(r,e),Z(r,i),X(r,n))};return r.installed=!1,r},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(l({},e),{},{install:I(t)})},X=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var i in e)i&&e[i]&&t.use(e[i])},V=function(t,e,i){t&&e&&i&&t.component(e,i)},q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var i in e)V(t,i,e[i])},L=function(t,e,i){t&&e&&i&&t.directive(e.replace(/^VB/,"B"),i)},Z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var i in e)L(t,i,e[i])};var U,H,K,G=(U=Object.freeze({__proto__:null,checkMultipleVue:N,installFactory:I,installFactoryNoConfig:Y,pluginFactory:D,pluginFactoryNoConfig:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(l({},e),{},{install:Y(t)})},registerPlugins:X,registerComponent:V,registerComponents:q,registerDirective:L,registerDirectives:Z,vueUse:function(t){w&&window.Vue&&window.Vue.use(t),w&&t.NAME&&(window[t.NAME]=t)}}))&&U.default||U;
/*!
 * modernizr v3.6.0
 * Build https://modernizr.com/download?-csstransforms3d-csstransitions-preserve3d-addtest-prefixed-teststyles-dontmin
 *
 * Copyright (c)
 *  Faruk Ates
 *  Paul Irish
 *  Alex Sexton
 *  Ryan Seddon
 *  Patrick Kettner
 *  Stu Cox
 *  Richard Herrera

 * MIT License
 */!function(t,e,i){var n=[],a={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var i=this;setTimeout((function(){e(i[t])}),0)},addTest:function(t,e,i){n.push({name:t,fn:e,options:i})},addAsyncTest:function(t){n.push({name:null,fn:t})}},o=function(){};o.prototype=a,o=new o;var s,l,d=[];function c(t,e){return r(t)===e}function p(t){return t.replace(/([a-z])-([a-z])/g,(function(t,e,i){return e+i.toUpperCase()})).replace(/^-/,"")}
/*!
  {
  "name": "CSS Supports",
  "property": "supports",
  "caniuse": "css-featurequeries",
  "tags": ["css"],
  "builderAliases": ["css_supports"],
  "notes": [{
    "name": "W3 Spec",
    "href": "http://dev.w3.org/csswg/css3-conditional/#at-supports"
  },{
    "name": "Related Github Issue",
    "href": "https://github.com/Modernizr/Modernizr/issues/648"
  },{
    "name": "W3 Info",
    "href": "http://dev.w3.org/csswg/css3-conditional/#the-csssupportsrule-interface"
  }]
  }
  !*/s=c(l={}.hasOwnProperty,"undefined")||c(l.call,"undefined")?function(t,e){return e in t&&c(t.constructor.prototype[e],"undefined")}:function(t,e){return l.call(t,e)};var h="CSS"in t&&"supports"in t.CSS,u="supportsCSS"in t;o.addTest("supports",h||u);var f=e.documentElement,g="svg"===f.nodeName.toLowerCase();function b(t,e){if("object"==r(t))for(var i in t)s(t,i)&&b(i,t[i]);else{var n=(t=t.toLowerCase()).split("."),a=o[n[0]];if(2==n.length&&(a=a[n[1]]),void 0!==a)return o;e="function"==typeof e?e():e,1==n.length?o[n[0]]=e:(!o[n[0]]||o[n[0]]instanceof Boolean||(o[n[0]]=new Boolean(o[n[0]])),o[n[0]][n[1]]=e),function(t){var e=f.className,i=o._config.classPrefix||"";if(g&&(e=e.baseVal),o._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");e=e.replace(n,"$1"+i+"js$2")}o._config.enableClasses&&(e+=" "+i+t.join(" "+i),g?f.className.baseVal=e:f.className=e)}([(e&&0!=e?"":"no-")+n.join("-")]),o._trigger(t,e)}return o}function v(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):g?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}
/*!
  {
  "name": "CSS Transform Style preserve-3d",
  "property": "preserve3d",
  "authors": ["denyskoch", "aFarkas"],
  "tags": ["css"],
  "notes": [{
    "name": "MDN Docs",
    "href": "https://developer.mozilla.org/en-US/docs/Web/CSS/transform-style"
  },{
    "name": "Related Github Issue",
    "href": "https://github.com/Modernizr/Modernizr/issues/1748"
  }]
  }
  !*/function m(t,i,n,r){var a,o,s,l,d="modernizr",c=v("div"),p=function(){var t=e.body;return t||((t=v(g?"svg":"body")).fake=!0),t}();if(parseInt(n,10))for(;n--;)(s=v("div")).id=r?r[n]:d+(n+1),c.appendChild(s);return(a=v("style")).type="text/css",a.id="s"+d,(p.fake?p:c).appendChild(a),p.appendChild(c),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(e.createTextNode(t)),c.id=d,p.fake&&(p.style.background="",p.style.overflow="hidden",l=f.style.overflow,f.style.overflow="hidden",f.appendChild(p)),o=i(c,t),p.fake?(p.parentNode.removeChild(p),f.style.overflow=l,f.offsetHeight):c.parentNode.removeChild(c),!!o}a._l={},a.on=function(t,e){this._l[t]||(this._l[t]=[]),this._l[t].push(e),o.hasOwnProperty(t)&&setTimeout((function(){o._trigger(t,o[t])}),0)},a._trigger=function(t,e){if(this._l[t]){var i=this._l[t];setTimeout((function(){var t;for(t=0;t<i.length;t++)(0,i[t])(e)}),0),delete this._l[t]}},o._q.push((function(){a.addTest=b})),o.addTest("preserve3d",(function(){var e,i,n=t.CSS,r=!1;return!!(n&&n.supports&&n.supports("(transform-style: preserve-3d)"))||(e=v("a"),i=v("a"),e.style.cssText="display: block; transform-style: preserve-3d; transform-origin: right; transform: rotateY(40deg);",i.style.cssText="display: block; width: 9px; height: 1px; background: #000; transform-origin: right; transform: rotateY(40deg);",e.appendChild(i),f.appendChild(e),r=i.getBoundingClientRect(),f.removeChild(e),r=r.width&&r.width<4)}));a.testStyles=m;var w=a._config.usePrefixes?"Moz O ms Webkit".split(" "):[];a._cssomPrefixes=w;var y=function(e){var i,n=prefixes.length,r=t.CSSRule;if(void 0!==r){if(!e)return!1;if((i=(e=e.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in r)return"@"+e;for(var a=0;a<n;a++){var o=prefixes[a];if(o.toUpperCase()+"_"+i in r)return"@-"+o.toLowerCase()+"-"+e}return!1}};a.atRule=y;var x=a._config.usePrefixes?"Moz O ms Webkit".toLowerCase().split(" "):[];function k(t,e){return function(){return t.apply(e,arguments)}}a._domPrefixes=x;var _={elem:v("modernizr")};o._q.push((function(){delete _.elem}));var P={style:_.elem.style};function M(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()})).replace(/^ms-/,"-ms-")}function O(e,i){var n=e.length;if("CSS"in t&&"supports"in t.CSS){for(;n--;)if(t.CSS.supports(M(e[n]),i))return!0;return!1}if("CSSSupportsRule"in t){for(var r=[];n--;)r.push("("+M(e[n])+":"+i+")");return m("@supports ("+(r=r.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"==function(e,i,n){var r;if("getComputedStyle"in t){r=getComputedStyle.call(t,e,i);var a=t.console;if(null!==r)n&&(r=r.getPropertyValue(n));else if(a)a[a.error?"error":"log"].call(a,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else r=!i&&e.currentStyle&&e.currentStyle[n];return r}(e,null,"position")}))}}function z(t,e,i,n,r){var a=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+w.join(a+" ")+a).split(" ");return c(e,"string")||c(e,"undefined")?function(t,e,i,n){if(n=!c(n,"undefined")&&n,!c(i,"undefined")){var r=O(t,i);if(!c(r,"undefined"))return r}for(var a,o,s,l,d,h=["modernizr","tspan","samp"];!P.style&&h.length;)a=!0,P.modElem=v(h.shift()),P.style=P.modElem.style;function u(){a&&(delete P.style,delete P.modElem)}for(s=t.length,o=0;o<s;o++)if(l=t[o],d=P.style[l],~(""+l).indexOf("-")&&(l=p(l)),void 0!==P.style[l]){if(n||c(i,"undefined"))return u(),"pfx"!=e||l;try{P.style[l]=i}catch(t){}if(P.style[l]!=d)return u(),"pfx"!=e||l}return u(),!1}(o,e,n,r):function(t,e,i){var n;for(var r in t)if(t[r]in e)return!1===i?t[r]:c(n=e[t[r]],"function")?k(n,i||e):n;return!1}(o=(t+" "+x.join(a+" ")+a).split(" "),e,i)}o._q.unshift((function(){delete P.style})),a.testAllProps=z;a.prefixed=function(t,e,i){return 0===t.indexOf("@")?y(t):(-1!=t.indexOf("-")&&(t=p(t)),e?z(t,e,i):z(t,"pfx"))};function C(t,e,i){return z(t,void 0,void 0,e,i)}a.testAllProps=C,
/*!
  {
  "name": "CSS Transforms 3D",
  "property": "csstransforms3d",
  "caniuse": "transforms3d",
  "tags": ["css"],
  "warnings": [
    "Chrome may occassionally fail this test on some systems; more info: https://code.google.com/p/chromium/issues/detail?id=129004"
  ]
  }
  !*/
o.addTest("csstransforms3d",(function(){return!!C("perspective","1px",!0)})),
/*!
  {
  "name": "CSS Transitions",
  "property": "csstransitions",
  "caniuse": "css-transitions",
  "tags": ["css"]
  }
  !*/
o.addTest("csstransitions",C("transition","all",!0)),function(){var t,e,i,r,a,s;for(var l in n)if(n.hasOwnProperty(l)){if(t=[],(e=n[l]).name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase());for(r=c(e.fn,"function")?e.fn():e.fn,a=0;a<t.length;a++)1===(s=t[a].split(".")).length?o[s[0]]=r:(!o[s[0]]||o[s[0]]instanceof Boolean||(o[s[0]]=new Boolean(o[s[0]])),o[s[0]][s[1]]=r),d.push((r?"":"no-")+s.join("-"))}}(),delete a.addTest,delete a.addAsyncTest;for(var j=0;j<o._q.length;j++)o._q[j]();t.Modernizr=o}(window,document),H=i.event,K=function(t,e,i,n){var r,a,o,s,l,d,c,p;for(r=0;r<e.length;r++)for((s=(a=e[r]).indexOf(".")<0)||(c=a.split("."),a=c.shift(),p=new RegExp("(^|\\.)"+c.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")),o=(t[a]||[]).slice(0),l=0;l<o.length;l++)d=o[l],(s||p.test(d.namespace))&&(n?d.selector===n&&i(a,d.origHandler||d.handler):null===n?i(a,d.origHandler||d.handler,d.selector):d.selector||i(a,d.origHandler||d.handler))},H.find=function(t,e,n){var r=(i._data(t)||{}).events,a=[];return r?(K(r,e,(function(t,e){a.push(e)}),n),a):a},H.findBySelector=function(t,e){var n=i._data(t).events,r={};return n?(K(n,e,(function(t,e,i){!function(t,e,i){var n=r[t]||(r[t]={});(n[e]||(n[e]=[])).push(i)}(i||"",t,e)}),null),r):r},H.supportTouch="ontouchend"in document,i.fn.respondsTo=function(t){return!!this.length&&H.find(this[0],i.isArray(t)?t:[t]).length>0},i.fn.triggerHandled=function(t,e){return t="string"==typeof t?i.Event(t):t,this.trigger(t,e),t.handled},H.setupHelper=function(t,e,n){n||(n=e,e=null);var r=function(r){var a=r.selector||"";a?H.find(this,t,a).length||i(this).delegate(a,e,n):H.find(this,t,a).length||H.add(this,e,n,{selector:a,delegate:this})},a=function(r){var a=r.selector||"";a?H.find(this,t,a).length||i(this).undelegate(a,e,n):H.find(this,t,a).length||H.remove(this,e,n,{selector:a,delegate:this})};i.each(t,(function(){H.special[this]={add:r,remove:a,setup:function(){},teardown:function(){}}}))},function(t){var e=!/Phantom/.test(navigator.userAgent)&&"ontouchend"in document,i=e?"touchstart":"mousedown",n=e?"touchend":"mouseup",r=e?"touchmove":"mousemove",a=function(e){var i=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:t(e.target)}},o=t.event.swipe={delay:500,max:75,min:30};t.event.setupHelper(["swipe","swipeleft","swiperight","swipeup","swipedown"],i,(function(e){var i,s=a(e),l=e.delegateTarget||e.currentTarget,d=e.handleObj.selector,c=this;function p(t){s&&(i=a(t),Math.abs(s.coords[0]-i.coords[0])>10&&t.preventDefault())}t(document.documentElement).bind(r,p).one(n,(function(n){if(t(this).unbind(r,p),s&&i){var a=Math.abs(s.coords[0]-i.coords[0]),h=Math.abs(s.coords[1]-i.coords[1]),u=Math.sqrt(a*a+h*h);if(i.time-s.time<o.delay&&u>=o.min){var f=["swipe"];a>=o.min&&h<o.min?f.push(s.coords[0]>i.coords[0]?"swipeleft":"swiperight"):h>=o.min&&a<o.min&&f.push(s.coords[1]<i.coords[1]?"swipedown":"swipeup"),t.each(t.event.find(l,f,d),(function(){this.call(c,e,{start:s,end:i})}))}}s=i=void 0}))}))}(i),function(t,e,i){var n=t(e),r=e.Modernizr;r.addTest("csstransformspreserve3d",(function(){var t,i=r.prefixed("transformStyle"),n="preserve-3d";return!!i&&(i=i.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()})).replace(/^ms-/,"-ms-"),r.testStyles("#modernizr{"+i+":"+n+";}",(function(n,r){t=e.getComputedStyle?getComputedStyle(n,null).getPropertyValue(i):""})),t===n)}));var a,o,s=t.event;a=s.special.debouncedresize={setup:function(){t(this).on("resize",a.handler)},teardown:function(){t(this).off("resize",a.handler)},handler:function(t,e){var i=this,n=arguments,r=function(){t.type="debouncedresize",s.dispatch.apply(i,n)};o&&clearTimeout(o),e?r():o=setTimeout(r,a.threshold)},threshold:150},t.BookBlock=function(e,i){this.$el=t(i),this._init(e)},t.BookBlock.defaults={orientation:"vertical",direction:"ltr",speed:1e3,easing:"ease-in-out",shadows:!0,shadowSides:.2,shadowFlip:.1,circular:!1,nextEl:"",prevEl:"",autoplay:!1,interval:3e3,onEndFlip:function(t,e,i){return!1},onBeforeFlip:function(t){return!1}},t.BookBlock.prototype={_init:function(e){this.options=t.extend(!0,{},t.BookBlock.defaults,e),this.$el.addClass("bb-"+this.options.orientation),this.jopaUid=this.$el[0].dataset.uid,this.pluginName="bookblock-".concat(this.jopaUid),this.$items=this.$el.children(".bb-item").hide(),this.itemsCount=this.$items.length,this.current=0,this.previous=-1,this.$current=this.$items.eq(this.current).show(),this.elWidth=this.$el.width();this.transEndEventName={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[r.prefixed("transition")]+".".concat(this.pluginName),this.support=r.csstransitions&&r.csstransforms3d&&r.csstransformspreserve3d,this._initEvents(),this.options.autoplay&&(this.options.circular=!0,this._startSlideshow())},_initEvents:function(){var e=this;""!==this.options.nextEl&&t(this.options.nextEl).on("click.".concat(this.pluginName," touchstart.").concat(this.pluginName),(function(){return e._action("next"),!1})),""!==this.options.prevEl&&t(this.options.prevEl).on("click.".concat(this.pluginName," touchstart.").concat(this.pluginName),(function(){return e._action("prev"),!1})),n.on("debouncedresize",(function(){e.elWidth=e.$el.width()}))},_action:function(t,e){this._stopSlideshow(),this._navigate(t,e)},_navigate:function(t,e){if(this.isAnimating)return!1;this.options.onBeforeFlip(this.current),this.isAnimating=!0,this.$current=this.$items.eq(this.current),void 0!==e?this.current=e:"next"===t&&"ltr"===this.options.direction||"prev"===t&&"rtl"===this.options.direction?this.options.circular||this.current!==this.itemsCount-1?(this.previous=this.current,this.current=this.current<this.itemsCount-1?this.current+1:0):this.end=!0:("prev"===t&&"ltr"===this.options.direction||"next"===t&&"rtl"===this.options.direction)&&(this.options.circular||0!==this.current?(this.previous=this.current,this.current=this.current>0?this.current-1:this.itemsCount-1):this.end=!0),this.$nextItem=!this.options.circular&&this.end?this.$current:this.$items.eq(this.current),this.support?this._layout(t):this._layoutNoSupport(t)},_layoutNoSupport:function(t){this.$items.hide(),this.$nextItem.show(),this.end=!1,this.isAnimating=!1;var e="next"===t&&this.current===this.itemsCount-1||"prev"===t&&0===this.current;this.options.onEndFlip(this.previous,this.current,e)},_layout:function(e){var i=this,n=this._addSide("left",e),r=this._addSide("middle",e),a=this._addSide("right",e),o=n.find("div.bb-overlay"),s=r.find("div.bb-flipoverlay:first"),l=r.find("div.bb-flipoverlay:last"),d=a.find("div.bb-overlay"),c=this.end?400:this.options.speed;if(this.$items.hide(),this.$el.prepend(n,r,a),r.css({transitionDuration:c+"ms",transitionTimingFunction:this.options.easing}).on(this.transEndEventName,(function(n){if(t(n.target).hasClass("bb-page")){i.$el.children(".bb-page").remove(),i.$nextItem.show(),i.end=!1,i.isAnimating=!1;var r="next"===e&&i.current===i.itemsCount-1||"prev"===e&&0===i.current;i.options.onEndFlip(i.previous,i.current,r)}})),"prev"===e&&r.addClass("bb-flip-initial"),this.options.shadows&&!this.end){var p="next"===e?{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms"}:{transition:"opacity "+this.options.speed/2+"ms linear",opacity:this.options.shadowSides},h="next"===e?{transition:"opacity "+this.options.speed/2+"ms linear"}:{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms",opacity:this.options.shadowFlip},u="next"===e?{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms",opacity:this.options.shadowFlip}:{transition:"opacity "+this.options.speed/2+"ms linear"},f="next"===e?{transition:"opacity "+this.options.speed/2+"ms linear",opacity:this.options.shadowSides}:{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms"};s.css(h),l.css(u),o.css(p),d.css(f)}setTimeout((function(){r.addClass(i.end?"bb-flip-"+e+"-end":"bb-flip-"+e),i.options.shadows&&!i.end&&(s.css({opacity:"next"===e?i.options.shadowFlip:0}),l.css({opacity:"next"===e?0:i.options.shadowFlip}),o.css({opacity:"next"===e?i.options.shadowSides:0}),d.css({opacity:"next"===e?0:i.options.shadowSides}))}),25)},_addSide:function(e,i){var n;switch(e){case"left":n=t('<div class="bb-page"><div class="bb-back"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+("next"===i?this.$current.html():this.$nextItem.html())+'</div></div><div class="bb-overlay"></div></div></div></div>').css("z-index",102);break;case"middle":n=t('<div class="bb-page"><div class="bb-front"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+("next"===i?this.$current.html():this.$nextItem.html())+'</div></div><div class="bb-flipoverlay"></div></div></div><div class="bb-back"><div class="bb-outer"><div class="bb-content" style="width:'+this.elWidth+'px"><div class="bb-inner">'+("next"===i?this.$nextItem.html():this.$current.html())+'</div></div><div class="bb-flipoverlay"></div></div></div></div>').css("z-index",103);break;case"right":n=t('<div class="bb-page"><div class="bb-front"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+("next"===i?this.$nextItem.html():this.$current.html())+'</div></div><div class="bb-overlay"></div></div></div></div>').css("z-index",101)}return n},_startSlideshow:function(){var t=this;this.slideshow=setTimeout((function(){t._navigate("next"),t.options.autoplay&&t._startSlideshow()}),this.options.interval)},_stopSlideshow:function(){this.options.autoplay&&(clearTimeout(this.slideshow),this.options.autoplay=!1)},next:function(){this._action("ltr"===this.options.direction?"next":"prev")},prev:function(){this._action("ltr"===this.options.direction?"prev":"next")},jump:function(t){if((t-=1)===this.current||t>=this.itemsCount||t<0)return!1;var e;e="ltr"===this.options.direction?t>this.current?"next":"prev":t>this.current?"prev":"next",this._action(e,t)},last:function(){this.jump(this.itemsCount)},first:function(){this.jump(1)},isActive:function(){return this.isAnimating},update:function(){var t=this.$items.eq(this.current);this.$items=this.$el.children(".bb-item"),this.itemsCount=this.$items.length,this.current=t.index()},destroy:function(){this.options.autoplay&&this._stopSlideshow(),this.$el.removeClass("bb-"+this.options.orientation),this.$items.show(),""!==this.options.nextEl&&t(this.options.nextEl).off(".".concat(this.pluginName)),""!==this.options.prevEl&&t(this.options.prevEl).off(".".concat(this.pluginName)),n.off("debouncedresize")}};var l=function(t){e.console&&e.console.error(t)};t.fn.bookblock=function(e){if("string"==typeof e){var i=Array.prototype.slice.call(arguments,1);this.each((function(){var n=t.data(this,"bookblock-".concat(this.dataset.uid));n?t.isFunction(n[e])&&"_"!==e.charAt(0)?n[e].apply(n,i):l("no such method '"+e+"' for bookblock instance"):l("cannot call methods on bookblock prior to initialization; attempted to call method '"+e+"'")}))}else this.each((function(){var i=t.data(this,"bookblock-".concat(this.dataset.uid));i?i._init(i.options):i=t.data(this,"bookblock-".concat(this.dataset.uid),new t.BookBlock(e,this))}));return this}}(i,window);var J={name:"Bookblock",data:function(){return{nanoid:n.nanoid(),componentKey:0}},props:{options:{type:Object,default:function(){}}},watch:{defaultOptions:{handler:function(t){this.forceRerender(t)},deep:!0,immediate:!0}},computed:{uid:function(){return"jopa-".concat(this.nanoid)},selector:function(){return"div[data-uid=".concat(this.uid,"]")},defaultOptions:function(){return l({orientation:"horizontal",direction:"ltr",speed:1e3,easing:"ease-in-out",shadows:!0,shadowSides:.2,shadowFlip:.1,circular:!1,nextEl:"",prevEl:"",autoplay:!1,interval:3e3,onEndFlip:function(t,e){return!1},onBeforeFlip:function(t){return!1}},this.options)}},mounted:function(){this.forceRerender(this.defaultOptions)},methods:{next:function(){i(this.selector).bookblock("next")},prev:function(){i(this.selector).bookblock("prev")},jump:function(t){i(this.selector).bookblock("jump",t)},first:function(){i(this.selector).bookblock("first")},last:function(){i(this.selector).bookblock("last")},update:function(){console.log("updated"),i(this.selector).bookblock("update")},destroy:function(){i(this.selector).bookblock("destroy")},forceRerender:function(t){var e=this;this.nanoid=n.nanoid(),this.componentKey+=1,this.$nextTick((function(){return i(e.selector).bookblock(t)}))}}};function Q(t,e,i,n,r,a,o,s,l,d){"boolean"!=typeof o&&(l=s,s=o,o=!1);const c="function"==typeof i?i.options:i;let p;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,r&&(c.functional=!0)),n&&(c._scopeId=n),a?(p=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=p):e&&(p=o?function(t){e.call(this,d(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),p)if(c.functional){const t=c.render;c.render=function(e,i){return p.call(i),t(e,i)}}else{const t=c.beforeCreate;c.beforeCreate=t?[].concat(t,p):[p]}return i}const tt="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function et(t){return(t,e)=>function(t,e){const i=tt?e.media||"default":t,n=nt[i]||(nt[i]={ids:new Set,styles:[]});if(!n.ids.has(t)){n.ids.add(t);let i=e.source;if(e.map&&(i+="\n/*# sourceURL="+e.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),n.element||(n.element=document.createElement("style"),n.element.type="text/css",e.media&&n.element.setAttribute("media",e.media),void 0===it&&(it=document.head||document.getElementsByTagName("head")[0]),it.appendChild(n.element)),"styleSheet"in n.element)n.styles.push(i),n.element.styleSheet.cssText=n.styles.filter(Boolean).join("\n");else{const t=n.ids.size-1,e=document.createTextNode(i),r=n.element.childNodes;r[t]&&n.element.removeChild(r[t]),r.length?n.element.insertBefore(e,r[t]):n.element.appendChild(e)}}}(t,e)}let it;const nt={};var rt=Q({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{key:this.componentKey,attrs:{"data-uid":this.uid}},[this._t("default")],2)},staticRenderFns:[]},(function(t){t&&t("data-v-237997c3_0",{source:".bb-bookblock{width:400px;height:300px;margin:0 auto;position:relative;z-index:100;-webkit-perspective:1300px;perspective:1300px;-webkit-backface-visibility:hidden;backface-visibility:hidden}.bb-page{position:absolute;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transition-property:-webkit-transform;transition-property:transform}.bb-vertical .bb-page{width:50%;height:100%;left:50%;-webkit-transform-origin:left center;transform-origin:left center}.bb-horizontal .bb-page{width:100%;height:50%;top:50%;-webkit-transform-origin:center top;transform-origin:center top}.bb-content,.bb-inner,.bb-outer,.bb-page>div{position:absolute;height:100%;width:100%;top:0;left:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.bb-vertical .bb-content{width:200%}.bb-horizontal .bb-content{height:200%}.bb-page>div{width:100%;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.bb-vertical .bb-back{-webkit-transform:rotateY(-180deg);transform:rotateY(-180deg)}.bb-horizontal .bb-back{-webkit-transform:rotateX(-180deg);transform:rotateX(-180deg)}.bb-outer{width:100%;overflow:hidden;z-index:999}.bb-flipoverlay,.bb-overlay{background-color:rgba(0,0,0,.7);position:absolute;top:0;left:0;width:100%;height:100%;opacity:0}.bb-flipoverlay{background-color:rgba(0,0,0,.2)}.bb-bookblock.bb-vertical>div.bb-page:first-child,.bb-bookblock.bb-vertical>div.bb-page:first-child .bb-back{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}.bb-bookblock.bb-horizontal>div.bb-page:first-child,.bb-bookblock.bb-horizontal>div.bb-page:first-child .bb-back{-webkit-transform:rotateX(180deg);transform:rotateX(180deg)}.bb-content{background:#fff}.bb-vertical .bb-front .bb-content{left:-100%}.bb-horizontal .bb-front .bb-content{top:-100%}.bb-vertical .bb-flip-initial,.bb-vertical .bb-flip-next{-webkit-transform:rotateY(-180deg);transform:rotateY(-180deg)}.bb-vertical .bb-flip-prev{-webkit-transform:rotateY(0);transform:rotateY(0)}.bb-horizontal .bb-flip-initial,.bb-horizontal .bb-flip-next{-webkit-transform:rotateX(180deg);transform:rotateX(180deg)}.bb-horizontal .bb-flip-prev{-webkit-transform:rotateX(0);transform:rotateX(0)}.bb-vertical .bb-flip-next-end{-webkit-transform:rotateY(-15deg);transform:rotateY(-15deg)}.bb-vertical .bb-flip-prev-end{-webkit-transform:rotateY(-165deg);transform:rotateY(-165deg)}.bb-horizontal .bb-flip-next-end{-webkit-transform:rotateX(15deg);transform:rotateX(15deg)}.bb-horizontal .bb-flip-prev-end{-webkit-transform:rotateX(165deg);transform:rotateX(165deg)}.bb-item{width:100%;height:100%;position:absolute;top:0;left:0;display:none;background:#fff}.no-js .bb-bookblock,.no-js ul.bb-custom-grid li{width:auto;height:auto}.no-js .bb-item{display:block;position:relative}",map:void 0,media:void 0})}),J,void 0,!1,void 0,!1,et,void 0,void 0),at=D({components:{FwBookblock:rt}}),ot=Q({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.componentKey,attrs:{"data-uid":t.uid}},t._l(t.pages,(function(e,n){return i("div",{key:n+"-"+t.nanoid,staticClass:"bb-item"},[t._t("page",null,null,{item:e,index:n})],2)})),0)},staticRenderFns:[]},(function(t){t&&t("data-v-9fefa0a8_0",{source:".bb-bookblock{width:400px;height:300px;margin:0 auto;position:relative;z-index:100;-webkit-perspective:1300px;perspective:1300px;-webkit-backface-visibility:hidden;backface-visibility:hidden}.bb-page{position:absolute;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transition-property:-webkit-transform;transition-property:transform}.bb-vertical .bb-page{width:50%;height:100%;left:50%;-webkit-transform-origin:left center;transform-origin:left center}.bb-horizontal .bb-page{width:100%;height:50%;top:50%;-webkit-transform-origin:center top;transform-origin:center top}.bb-content,.bb-inner,.bb-outer,.bb-page>div{position:absolute;height:100%;width:100%;top:0;left:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.bb-vertical .bb-content{width:200%}.bb-horizontal .bb-content{height:200%}.bb-page>div{width:100%;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.bb-vertical .bb-back{-webkit-transform:rotateY(-180deg);transform:rotateY(-180deg)}.bb-horizontal .bb-back{-webkit-transform:rotateX(-180deg);transform:rotateX(-180deg)}.bb-outer{width:100%;overflow:hidden;z-index:999}.bb-flipoverlay,.bb-overlay{background-color:rgba(0,0,0,.7);position:absolute;top:0;left:0;width:100%;height:100%;opacity:0}.bb-flipoverlay{background-color:rgba(0,0,0,.2)}.bb-bookblock.bb-vertical>div.bb-page:first-child,.bb-bookblock.bb-vertical>div.bb-page:first-child .bb-back{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}.bb-bookblock.bb-horizontal>div.bb-page:first-child,.bb-bookblock.bb-horizontal>div.bb-page:first-child .bb-back{-webkit-transform:rotateX(180deg);transform:rotateX(180deg)}.bb-content{background:#fff}.bb-vertical .bb-front .bb-content{left:-100%}.bb-horizontal .bb-front .bb-content{top:-100%}.bb-vertical .bb-flip-initial,.bb-vertical .bb-flip-next{-webkit-transform:rotateY(-180deg);transform:rotateY(-180deg)}.bb-vertical .bb-flip-prev{-webkit-transform:rotateY(0);transform:rotateY(0)}.bb-horizontal .bb-flip-initial,.bb-horizontal .bb-flip-next{-webkit-transform:rotateX(180deg);transform:rotateX(180deg)}.bb-horizontal .bb-flip-prev{-webkit-transform:rotateX(0);transform:rotateX(0)}.bb-vertical .bb-flip-next-end{-webkit-transform:rotateY(-15deg);transform:rotateY(-15deg)}.bb-vertical .bb-flip-prev-end{-webkit-transform:rotateY(-165deg);transform:rotateY(-165deg)}.bb-horizontal .bb-flip-next-end{-webkit-transform:rotateX(15deg);transform:rotateX(15deg)}.bb-horizontal .bb-flip-prev-end{-webkit-transform:rotateX(165deg);transform:rotateX(165deg)}.bb-item{width:100%;height:100%;position:absolute;top:0;left:0;display:none;background:#fff}.no-js .bb-bookblock,.no-js ul.bb-custom-grid li{width:auto;height:auto}.no-js .bb-item{display:block;position:relative}",map:void 0,media:void 0})}),{name:"Bookblock2",data:function(){return{nanoid:n.nanoid(),componentKey:0}},props:{options:{type:Object,default:function(){}},pages:{type:Array,default:function(){return[]}}},watch:{defaultOptions:{handler:function(t){this.forceRerender(t)},deep:!0,immediate:!0},pages:{handler:function(){this.forceRerender(this.defaultOptions)},deep:!0,immediate:!0}},computed:{uid:function(){return"jopa-".concat(this.nanoid)},selector:function(){return"div[data-uid=".concat(this.uid,"]")},defaultOptions:function(){return l({orientation:"horizontal",direction:"ltr",speed:1e3,easing:"ease-in-out",shadows:!0,shadowSides:.2,shadowFlip:.1,circular:!1,nextEl:"",prevEl:"",autoplay:!1,interval:3e3,onEndFlip:function(t,e){return!1},onBeforeFlip:function(t){return!1}},this.options)}},mounted:function(){this.forceRerender(this.defaultOptions)},methods:{next:function(){i(this.selector).bookblock("next")},prev:function(){i(this.selector).bookblock("prev")},jump:function(t){i(this.selector).bookblock("jump",t)},first:function(){i(this.selector).bookblock("first")},last:function(){i(this.selector).bookblock("last")},update:function(){console.log("updated"),i(this.selector).bookblock("update")},destroy:function(){i(this.selector).bookblock("destroy")},forceRerender:function(t){var e=this;1===this.pages.length&&(t.autoplay=!1),this.componentKey+=1,this.$nextTick((function(){i(e.selector).bookblock(t)}))}}},void 0,!1,void 0,!1,et,void 0,void 0),st=D({components:{FwBookblock2:ot}});!function(t){var e,i,n="",a=Math.PI,o=a/2,s="ontouchstart"in window,l=s?{down:"touchstart",move:"touchmove",up:"touchend",over:"touchstart",out:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup",over:"mouseover",out:"mouseout"},d={backward:["bl","tl"],forward:["br","tr"],all:["tl","bl","tr","br","l","r"]},c=["single","double"],p=["ltr","rtl"],h={acceleration:!0,display:"double",duration:600,page:1,gradients:!0,turnCorners:"bl,br",when:null},u={cornerSize:100},f={init:function(r){var a;e="WebKitCSSMatrix"in window||"MozPerspective"in document.body.style,i=!(a=/AppleWebkit\/([0-9\.]+)/i.exec(navigator.userAgent))||parseFloat(a[1])>534.3,n=_();var o,d=0,c=this.data(),p=this.children();if(r=t.extend({width:this.width(),height:this.height(),direction:this.attr("dir")||this.css("direction")||"ltr"},h,r),c.opts=r,c.pageObjs={},c.pages={},c.pageWrap={},c.pageZoom={},c.pagePlace={},c.pageMv=[],c.zoom=1,c.totalPages=r.pages||0,c.eventHandlers={touchStart:t.proxy(f._touchStart,this),touchMove:t.proxy(f._touchMove,this),touchEnd:t.proxy(f._touchEnd,this),start:t.proxy(f._eventStart,this)},r.when)for(o in r.when)k(o,r.when)&&this.bind(o,r.when[o]);for(this.css({position:"relative",width:r.width,height:r.height}),this.turn("display",r.display),""!==r.direction&&this.turn("direction",r.direction),e&&!s&&r.acceleration&&this.transform(y(0,0,!0)),o=0;o<p.length;o++)"1"!=t(p[o]).attr("ignore")&&this.turn("addPage",p[o],++d);return t(this).bind(l.down,c.eventHandlers.touchStart).bind("end",f._eventEnd).bind("pressed",f._eventPressed).bind("released",f._eventReleased).bind("flip",f._flip),t(this).parent().bind("start",c.eventHandlers.start),t(document).bind(l.move,c.eventHandlers.touchMove).bind(l.up,c.eventHandlers.touchEnd),this.turn("page",r.page),c.done=!0,this},addPage:function(e,i){var n,r,a=!1,o=this.data(),s=o.totalPages+1;if(o.destroying)return!1;if((n=/\bp([0-9]+)\b/.exec(t(e).attr("class")))&&(i=parseInt(n[1],10)),i){if(i==s)a=!0;else if(i>s)throw O('Page "'+i+'" cannot be inserted')}else i=s,a=!0;return i>=1&&i<=s&&(r="double"==o.display?i%2?" odd":" even":"",o.done&&this.turn("stop"),i in o.pageObjs&&f._movePages.call(this,i,1),a&&(o.totalPages=s),o.pageObjs[i]=t(e).css({float:"left"}).addClass("page p"+i+r),-1!=navigator.userAgent.indexOf("MSIE 9.0")&&o.pageObjs[i].hasClass("hard")&&o.pageObjs[i].removeClass("hard"),f._addPage.call(this,i),f._removeFromDOM.call(this)),this},_addPage:function(e){var i=this.data(),n=i.pageObjs[e];if(n)if(f._necessPage.call(this,e)){if(!i.pageWrap[e]){i.pageWrap[e]=t("<div/>",{class:"page-wrapper",page:e,css:{position:"absolute",overflow:"hidden"}}),this.append(i.pageWrap[e]),i.pagePlace[e]||(i.pagePlace[e]=e,i.pageObjs[e].appendTo(i.pageWrap[e]));var r=f._pageSize.call(this,e,!0);n.css({width:r.width,height:r.height}),i.pageWrap[e].css(r)}i.pagePlace[e]==e&&f._makeFlip.call(this,e)}else i.pagePlace[e]=0,i.pageObjs[e]&&i.pageObjs[e].remove()},hasPage:function(t){return k(t,this.data().pageObjs)},center:function(e){var i=this.data(),n=t(this).turn("size"),r=0;if(!i.noCenter){if("double"==i.display){var a=this.turn("view",e||i.tpage||i.page);"ltr"==i.direction?a[0]?a[1]||(r+=n.width/4):r-=n.width/4:a[0]?a[1]||(r-=n.width/4):r+=n.width/4}t(this).css({marginLeft:r})}return this},destroy:function(){var e=this,i=this.data();if("prevented"!=M("destroying",this)){for(i.destroying=!0,t.each(["end","first","flip","last","pressed","released","start","turning","turned","zooming","missing"],(function(t,i){e.unbind(i)})),this.parent().unbind("start",i.eventHandlers.start),t(document).unbind(l.move,i.eventHandlers.touchMove).unbind(l.up,i.eventHandlers.touchEnd);0!==i.totalPages;)this.turn("removePage",i.totalPages);return i.fparent&&i.fparent.remove(),i.shadow&&i.shadow.remove(),this.removeData(),i=null,this}},is:function(){return"object"==r(this.data().pages)},zoom:function(e){var i=this.data();if("number"==typeof e){if(e<.001||e>100)throw O(e+" is not a value for zoom");if("prevented"==M("zooming",this,[e,i.zoom]))return this;var n=this.turn("size"),r=this.turn("view"),a=1/i.zoom,o=Math.round(n.width*a*e),s=Math.round(n.height*a*e);i.zoom=e,t(this).turn("stop").turn("size",o,s),i.opts.autoCenter&&this.turn("center"),f._updateShadow.call(this);for(var l=0;l<r.length;l++)r[l]&&i.pageZoom[r[l]]!=i.zoom&&(this.trigger("zoomed",[r[l],r,i.pageZoom[r[l]],i.zoom]),i.pageZoom[r[l]]=i.zoom);return this}return i.zoom},_pageSize:function(t,e){var i=this.data(),n={};if("single"==i.display)n.width=this.width(),n.height=this.height(),e&&(n.top=0,n.left=0,n.right="auto");else{var r=this.width()/2,a=this.height();if(i.pageObjs[t].hasClass("own-size")?(n.width=i.pageObjs[t].width(),n.height=i.pageObjs[t].height()):(n.width=r,n.height=a),e){var o=t%2;n.top=(a-n.height)/2,"ltr"==i.direction?(n[o?"right":"left"]=r-n.width,n[o?"left":"right"]="auto"):(n[o?"left":"right"]=r-n.width,n[o?"right":"left"]="auto")}}return n},_makeFlip:function(t){var e=this.data();if(!e.pages[t]&&e.pagePlace[t]==t){var i="single"==e.display,n=t%2;e.pages[t]=e.pageObjs[t].css(f._pageSize.call(this,t)).flip({page:t,next:n||i?t+1:t-1,turn:this}).flip("disable",e.disabled),f._setPageLoc.call(this,t),e.pageZoom[t]=e.zoom}return e.pages[t]},_makeRange:function(){var t,e;if(!(this.data().totalPages<1))for(t=(e=this.turn("range"))[0];t<=e[1];t++)f._addPage.call(this,t)},range:function(t){var e,i,n,r,a=this.data();if(t=t||a.tpage||a.page||1,r=f._view.call(this,t),t<1||t>a.totalPages)throw O('"'+t+'" is not a valid page');return r[1]=r[1]||r[0],r[0]>=1&&r[1]<=a.totalPages?(e=Math.floor(2),a.totalPages-r[1]>r[0]?n=2*e-(i=Math.min(r[0]-1,e)):i=2*e-(n=Math.min(a.totalPages-r[1],e))):(i=5,n=5),[Math.max(1,r[0]-i),Math.min(a.totalPages,r[1]+n)]},_necessPage:function(t){if(0===t)return!0;var e=this.turn("range");return this.data().pageObjs[t].hasClass("fixed")||t>=e[0]&&t<=e[1]},_removeFromDOM:function(){var t,e=this.data();for(t in e.pageWrap)k(t,e.pageWrap)&&!f._necessPage.call(this,t)&&f._removePageFromDOM.call(this,t)},_removePageFromDOM:function(t){var e=this.data();if(e.pages[t]){var i=e.pages[t].data();g._moveFoldingPage.call(e.pages[t],!1),i.f&&i.f.fwrapper&&i.f.fwrapper.remove(),e.pages[t].removeData(),e.pages[t].remove(),delete e.pages[t]}e.pageObjs[t]&&e.pageObjs[t].remove(),e.pageWrap[t]&&(e.pageWrap[t].remove(),delete e.pageWrap[t]),f._removeMv.call(this,t),delete e.pagePlace[t],delete e.pageZoom[t]},removePage:function(t){var e=this.data();if("*"==t)for(;0!==e.totalPages;)this.turn("removePage",e.totalPages);else{if(t<1||t>e.totalPages)throw O("The page "+t+" doesn't exist");e.pageObjs[t]&&(this.turn("stop"),f._removePageFromDOM.call(this,t),delete e.pageObjs[t]),f._movePages.call(this,t,-1),e.totalPages=e.totalPages-1,e.page>e.totalPages?(e.page=null,f._fitPage.call(this,e.totalPages)):(f._makeRange.call(this),this.turn("update"))}return this},_movePages:function(t,e){var i,n=this,r=this.data(),a="single"==r.display,o=function(t){var i=t+e,o=i%2,s=o?" odd ":" even ";r.pageObjs[t]&&(r.pageObjs[i]=r.pageObjs[t].removeClass("p"+t+" odd even").addClass("p"+i+s)),r.pagePlace[t]&&r.pageWrap[t]&&(r.pagePlace[i]=i,r.pageObjs[i].hasClass("fixed")?r.pageWrap[i]=r.pageWrap[t].attr("page",i):r.pageWrap[i]=r.pageWrap[t].css(f._pageSize.call(n,i,!0)).attr("page",i),r.pages[t]&&(r.pages[i]=r.pages[t].flip("options",{page:i,next:a||o?i+1:i-1})),e&&(delete r.pages[t],delete r.pagePlace[t],delete r.pageZoom[t],delete r.pageObjs[t],delete r.pageWrap[t]))};if(e>0)for(i=r.totalPages;i>=t;i--)o(i);else for(i=t;i<=r.totalPages;i++)o(i)},display:function(e){var i=this.data(),n=i.display;if(void 0===e)return n;if(-1==t.inArray(e,c))throw O('"'+e+'" is not a value for display');switch(e){case"single":i.pageObjs[0]||(this.turn("stop").css({overflow:"hidden"}),i.pageObjs[0]=t("<div />",{class:"page p-temporal"}).css({width:this.width(),height:this.height()}).appendTo(this)),this.addClass("shadow");break;case"double":i.pageObjs[0]&&(this.turn("stop").css({overflow:""}),i.pageObjs[0].remove(),delete i.pageObjs[0]),this.removeClass("shadow")}if(i.display=e,n){var r=this.turn("size");f._movePages.call(this,1,0),this.turn("size",r.width,r.height).turn("update")}return this},direction:function(e){var i=this.data();if(void 0===e)return i.direction;if(e=e.toLowerCase(),-1==t.inArray(e,p))throw O('"'+e+'" is not a value for direction');return"rtl"==e&&t(this).attr("dir","ltr").css({direction:"ltr"}),i.direction=e,i.done&&this.turn("size",t(this).width(),t(this).height()),this},animating:function(){return this.data().pageMv.length>0},corner:function(){var t,e,i=this.data();for(e in i.pages)if(k(e,i.pages)&&(t=i.pages[e].flip("corner")))return t;return!1},data:function(){return this.data()},disable:function(e){var i,n=this.data(),r=this.turn("view");for(i in n.disabled=void 0===e||!0===e,n.pages)k(i,n.pages)&&n.pages[i].flip("disable",!!n.disabled||-1==t.inArray(parseInt(i,10),r));return this},disabled:function(t){return void 0===t?!0===this.data().disabled:this.turn("disable",t)},size:function(t,e){if(void 0===t||void 0===e)return{width:this.width(),height:this.height()};this.turn("stop");var i,n,r=this.data(),a="double"==r.display?t/2:t;for(i in this.css({width:t,height:e}),r.pageObjs[0]&&r.pageObjs[0].css({width:a,height:e}),r.pageWrap)k(i,r.pageWrap)&&(n=f._pageSize.call(this,i,!0),r.pageObjs[i].css({width:n.width,height:n.height}),r.pageWrap[i].css(n),r.pages[i]&&r.pages[i].css({width:n.width,height:n.height}));return this.turn("resize"),this},resize:function(){var t,e=this.data();for(e.pages[0]&&(e.pageWrap[0].css({left:-this.width()}),e.pages[0].flip("resize",!0)),t=1;t<=e.totalPages;t++)e.pages[t]&&e.pages[t].flip("resize",!0);f._updateShadow.call(this),e.opts.autoCenter&&this.turn("center")},_removeMv:function(t){var e,i=this.data();for(e=0;e<i.pageMv.length;e++)if(i.pageMv[e]==t)return i.pageMv.splice(e,1),!0;return!1},_addMv:function(t){var e=this.data();f._removeMv.call(this,t),e.pageMv.push(t)},_view:function(t){var e=this.data();return t=t||e.page,"double"==e.display?t%2?[t-1,t]:[t,t+1]:[t]},view:function(t){var e=this.data(),i=f._view.call(this,t);return"double"==e.display?[i[0]>0?i[0]:0,i[1]<=e.totalPages?i[1]:0]:[i[0]>0&&i[0]<=e.totalPages?i[0]:0]},stop:function(t,e){if(this.turn("animating")){var i,n,r,a=this.data();for(a.tpage&&(a.page=a.tpage,delete a.tpage),i=0;i<a.pageMv.length;i++)a.pageMv[i]&&a.pageMv[i]!==t&&(n=(r=a.pages[a.pageMv[i]]).data().f.opts,r.flip("hideFoldedPage",e),e||g._moveFoldingPage.call(r,!1),n.force&&(n.next=n.page%2==0?n.page-1:n.page+1,delete n.force))}return this.turn("update"),this},pages:function(t){var e=this.data();if(t){if(t<e.totalPages)for(var i=e.totalPages;i>t;i--)this.turn("removePage",i);return e.totalPages=t,f._fitPage.call(this,e.page),this}return e.totalPages},_missing:function(t){var e=this.data();if(!(e.totalPages<1)){var i,n=this.turn("range",t),r=[];for(i=n[0];i<=n[1];i++)e.pageObjs[i]||r.push(i);r.length>0&&this.trigger("missing",[r])}},_fitPage:function(t){var e=this.data(),i=this.turn("view",t);if(f._missing.call(this,t),e.pageObjs[t]){e.page=t,this.turn("stop");for(var n=0;n<i.length;n++)i[n]&&e.pageZoom[i[n]]!=e.zoom&&(this.trigger("zoomed",[i[n],i,e.pageZoom[i[n]],e.zoom]),e.pageZoom[i[n]]=e.zoom);f._removeFromDOM.call(this),f._makeRange.call(this),f._updateShadow.call(this),this.trigger("turned",[t,i]),this.turn("update"),e.opts.autoCenter&&this.turn("center")}},_turnPage:function(e){var i,n,r=this.data(),a=r.pagePlace[e],o=this.turn("view"),s=this.turn("view",e);if(r.page!=e){var l=r.page;if("prevented"==M("turning",this,[e,s]))return void(l==r.page&&-1!=t.inArray(a,r.pageMv)&&r.pages[a].flip("hideFoldedPage",!0));-1!=t.inArray(1,s)&&this.trigger("first"),-1!=t.inArray(r.totalPages,s)&&this.trigger("last")}"single"==r.display?(i=o[0],n=s[0]):o[1]&&e>o[1]?(i=o[1],n=s[0]):o[0]&&e<o[0]&&(i=o[0],n=s[1]);var d=r.opts.turnCorners.split(","),c=r.pages[i].data().f,p=c.opts,h=c.point;f._missing.call(this,e),r.pageObjs[e]&&(this.turn("stop"),r.page=e,f._makeRange.call(this),r.tpage=n,p.next!=n&&(p.next=n,p.force=!0),this.turn("update"),c.point=h,"hard"==c.effect?"ltr"==r.direction?r.pages[i].flip("turnPage",e>i?"r":"l"):r.pages[i].flip("turnPage",e>i?"l":"r"):"ltr"==r.direction?r.pages[i].flip("turnPage",d[e>i?1:0]):r.pages[i].flip("turnPage",d[e>i?0:1]))},page:function(e){var i=this.data();if(void 0===e)return i.page;if(!i.disabled&&!i.destroying){if((e=parseInt(e,10))>0&&e<=i.totalPages)return e!=i.page&&(i.done&&-1==t.inArray(e,this.turn("view"))?f._turnPage.call(this,e):f._fitPage.call(this,e)),this;throw O("The page "+e+" does not exist")}},next:function(){return this.turn("page",Math.min(this.data().totalPages,f._view.call(this,this.data().page).pop()+1))},previous:function(){return this.turn("page",Math.max(1,f._view.call(this,this.data().page).shift()-1))},peel:function(t,e){var i,n=this.data(),r=this.turn("view");(e=void 0===e||!0===e,!1===t)?this.turn("stop",null,e):"single"==n.display?n.pages[n.page].flip("peel",t,e):(i="ltr"==n.direction?-1!=t.indexOf("l")?r[0]:r[1]:-1!=t.indexOf("l")?r[1]:r[0],n.pages[i]&&n.pages[i].flip("peel",t,e));return this},_addMotionPage:function(){var e=t(this).data().f.opts,i=e.turn;i.data();f._addMv.call(i,e.page)},_eventStart:function(t,e,i){var n=e.turn.data(),r=n.pageZoom[e.page];t.isDefaultPrevented()||(r&&r!=n.zoom&&(e.turn.trigger("zoomed",[e.page,e.turn.turn("view",e.page),r,n.zoom]),n.pageZoom[e.page]=n.zoom),"single"==n.display&&i&&("l"==i.charAt(1)&&"ltr"==n.direction||"r"==i.charAt(1)&&"rtl"==n.direction?(e.next=e.next<e.page?e.next:e.page-1,e.force=!0):e.next=e.next>e.page?e.next:e.page+1),f._addMotionPage.call(t.target)),f._updateShadow.call(e.turn)},_eventEnd:function(e,i,n){t(e.target).data().f;var r=i.turn,a=r.data();if(n){var o=a.tpage||a.page;o!=i.next&&o!=i.page||(delete a.tpage,f._fitPage.call(r,o||i.next,!0))}else f._removeMv.call(r,i.page),f._updateShadow.call(r),r.turn("update")},_eventPressed:function(e){var i=t(e.target).data().f,n=i.opts.turn,r=n.data();r.pages;return r.mouseAction=!0,n.turn("update"),i.time=(new Date).getTime()},_eventReleased:function(e,i){var n,r=t(e.target),a=r.data().f,o=a.opts.turn,s=o.data();n="single"==s.display?"br"==i.corner||"tr"==i.corner?i.x<r.width()/2:i.x>r.width()/2:i.x<0||i.x>r.width(),((new Date).getTime()-a.time<200||n)&&(e.preventDefault(),f._turnPage.call(o,a.opts.next)),s.mouseAction=!1},_flip:function(e){e.stopPropagation();var i=t(e.target).data().f.opts;i.turn.trigger("turn",[i.next]),i.turn.data().opts.autoCenter&&i.turn.turn("center",i.next)},_touchStart:function(){var t=this.data();for(var e in t.pages)if(k(e,t.pages)&&!1===g._eventStart.apply(t.pages[e],arguments))return!1},_touchMove:function(){var t=this.data();for(var e in t.pages)k(e,t.pages)&&g._eventMove.apply(t.pages[e],arguments)},_touchEnd:function(){var t=this.data();for(var e in t.pages)k(e,t.pages)&&g._eventEnd.apply(t.pages[e],arguments)},calculateZ:function(t){var e,i,n,r,a,o=this,s=this.data(),l=this.turn("view"),d=l[0]||l[1],c=t.length-1,p={pageZ:{},partZ:{},pageV:{}},h=function(t){var e=o.turn("view",t);e[0]&&(p.pageV[e[0]]=!0),e[1]&&(p.pageV[e[1]]=!0)};for(e=0;e<=c;e++)i=t[e],n=s.pages[i].data().f.opts.next,r=s.pagePlace[i],h(i),h(n),a=s.pagePlace[n]==n?n:i,p.pageZ[a]=s.totalPages-Math.abs(d-a),p.partZ[r]=2*s.totalPages-c+e;return p},update:function(){var e,i=this.data();if(this.turn("animating")&&0!==i.pageMv[0]){var n,r,a=this.turn("calculateZ",i.pageMv),o=this.turn("corner"),s=this.turn("view"),l=this.turn("view",i.tpage);for(e in i.pageWrap)k(e,i.pageWrap)&&(r=i.pageObjs[e].hasClass("fixed"),i.pageWrap[e].css({display:a.pageV[e]||r?"":"none",zIndex:(i.pageObjs[e].hasClass("hard")?a.partZ[e]:a.pageZ[e])||(r?-1:0)}),(n=i.pages[e])&&(n.flip("z",a.partZ[e]||null),a.pageV[e]&&n.flip("resize"),i.tpage?n.flip("hover",!1).flip("disable",-1==t.inArray(parseInt(e,10),i.pageMv)&&e!=l[0]&&e!=l[1]):n.flip("hover",!1===o).flip("disable",e!=s[0]&&e!=s[1])))}else for(e in i.pageWrap)if(k(e,i.pageWrap)){var d=f._setPageLoc.call(this,e);i.pages[e]&&i.pages[e].flip("disable",i.disabled||1!=d).flip("hover",!0).flip("z",null)}return this},_updateShadow:function(){var e,i,n=this.data(),r=this.width(),a=this.height(),o="single"==n.display?r:r/2;e=this.turn("view"),n.shadow||(n.shadow=t("<div />",{class:"shadow",css:v(0,0,0).css}).appendTo(this));for(var s=0;s<n.pageMv.length&&(e[0]&&e[1]);s++)e=this.turn("view",n.pages[n.pageMv[s]].data().f.opts.next),i=this.turn("view",n.pageMv[s]),e[0]=e[0]&&i[0],e[1]=e[1]&&i[1];switch(e[0]?e[1]?3:"ltr"==n.direction?2:1:"ltr"==n.direction?1:2){case 1:n.shadow.css({width:o,height:a,top:0,left:o});break;case 2:n.shadow.css({width:o,height:a,top:0,left:0});break;case 3:n.shadow.css({width:r,height:a,top:0,left:0})}},_setPageLoc:function(t){var e=this.data(),i=this.turn("view"),n=0;if(t==i[0]||t==i[1]?n=1:("single"==e.display&&t==i[0]+1||"double"==e.display&&t==i[0]-2||t==i[1]+2)&&(n=2),!this.turn("animating"))switch(n){case 1:e.pageWrap[t].css({zIndex:e.totalPages,display:""});break;case 2:e.pageWrap[t].css({zIndex:e.totalPages-1,display:""});break;case 0:e.pageWrap[t].css({zIndex:0,display:e.pageObjs[t].hasClass("fixed")?"":"none"})}return n},options:function(e){if(void 0===e)return this.data().opts;var i=this.data();if(t.extend(i.opts,e),e.pages&&this.turn("pages",e.pages),e.page&&this.turn("page",e.page),e.display&&this.turn("display",e.display),e.direction&&this.turn("direction",e.direction),e.width&&e.height&&this.turn("size",e.width,e.height),e.when)for(var n in e.when)k(n,e.when)&&this.unbind(n).bind(n,e.when[n]);return this},version:function(){return"4.1.0"}},g={init:function(t){return this.data({f:{disabled:!1,hover:!1,effect:this.hasClass("hard")?"hard":"sheet"}}),this.flip("options",t),g._addPageWrapper.call(this),this},setData:function(e){var i=this.data();return i.f=t.extend(i.f,e),this},options:function(e){var i=this.data().f;return e?(g.setData.call(this,{opts:t.extend({},i.opts||u,e)}),this):i.opts},z:function(t){var e=this.data().f;return e.opts["z-index"]=t,e.fwrapper&&e.fwrapper.css({zIndex:t||parseInt(e.parent.css("z-index"),10)||0}),this},_cAllowed:function(){var t=this.data().f,e=t.opts.page,i=t.opts.turn.data(),n=e%2;return"hard"==t.effect?"ltr"==i.direction?[n?"r":"l"]:[n?"l":"r"]:"single"==i.display?1==e?"ltr"==i.direction?d.forward:d.backward:e==i.totalPages?"ltr"==i.direction?d.backward:d.forward:d.all:"ltr"==i.direction?d[n?"forward":"backward"]:d[n?"backward":"forward"]},_cornerActivated:function(e){var i=this.data().f,n=this.width(),r=this.height(),a={x:e.x,y:e.y,corner:""},o=i.opts.cornerSize;if(a.x<=0||a.y<=0||a.x>=n||a.y>=r)return!1;var s=g._cAllowed.call(this);switch(i.effect){case"hard":if(a.x>n-o)a.corner="r";else{if(!(a.x<o))return!1;a.corner="l"}break;case"sheet":if(a.y<o)a.corner+="t";else{if(!(a.y>=r-o))return!1;a.corner+="b"}if(a.x<=o)a.corner+="l";else{if(!(a.x>=n-o))return!1;a.corner+="r"}}return!(!a.corner||-1==t.inArray(a.corner,s))&&a},_isIArea:function(t){var e=this.data().f.parent.offset();return t=s&&t.originalEvent?t.originalEvent.touches[0]:t,g._cornerActivated.call(this,{x:t.pageX-e.left,y:t.pageY-e.top})},_c:function(t,e){switch(e=e||0,t){case"tl":return w(e,e);case"tr":return w(this.width()-e,e);case"bl":return w(e,this.height()-e);case"br":return w(this.width()-e,this.height()-e);case"l":return w(e,0);case"r":return w(this.width()-e,0)}},_c2:function(t){switch(t){case"tl":return w(2*this.width(),0);case"tr":return w(-this.width(),0);case"bl":return w(2*this.width(),this.height());case"br":return w(-this.width(),this.height());case"l":return w(2*this.width(),0);case"r":return w(-this.width(),0)}},_foldingPage:function(){var t=this.data().f;if(t){var e=t.opts;return e.turn?"single"==(t=e.turn.data()).display?e.next>1||e.page>1?t.pageObjs[0]:null:t.pageObjs[e.next]:void 0}},_backGradient:function(){var e=this.data().f,i=e.opts.turn.data(),n=i.opts.gradients&&("single"==i.display||2!=e.opts.page&&e.opts.page!=i.totalPages-1);return n&&!e.bshadow&&(e.bshadow=t("<div/>",v(0,0,1)).css({position:"",width:this.width(),height:this.height()}).appendTo(e.parent)),n},type:function(){return this.data().f.effect},resize:function(t){var e=this.data().f,i=e.opts.turn.data(),n=this.width(),r=this.height();switch(e.effect){case"hard":t&&(e.wrapper.css({width:n,height:r}),e.fpage.css({width:n,height:r}),i.opts.gradients&&(e.ashadow.css({width:n,height:r}),e.bshadow.css({width:n,height:r})));break;case"sheet":if(t){var a=Math.round(Math.sqrt(Math.pow(n,2)+Math.pow(r,2)));e.wrapper.css({width:a,height:a}),e.fwrapper.css({width:a,height:a}).children(":first-child").css({width:n,height:r}),e.fpage.css({width:n,height:r}),i.opts.gradients&&e.ashadow.css({width:n,height:r}),g._backGradient.call(this)&&e.bshadow.css({width:n,height:r})}if(e.parent.is(":visible")){var o=z(e.parent[0]);e.fwrapper.css({top:o.top,left:o.left}),o=z(e.opts.turn[0]),e.fparent.css({top:-o.top,left:-o.left})}this.flip("z",e.opts["z-index"])}},_addPageWrapper:function(){var e=this.data().f,i=e.opts.turn.data(),r=this.parent();if(e.parent=r,!e.wrapper)switch(e.effect){case"hard":var a={};a[n+"transform-style"]="preserve-3d",a[n+"backface-visibility"]="hidden",e.wrapper=t("<div/>",v(0,0,2)).css(a).appendTo(r).prepend(this),e.fpage=t("<div/>",v(0,0,1)).css(a).appendTo(r),i.opts.gradients&&(e.ashadow=t("<div/>",v(0,0,0)).hide().appendTo(r),e.bshadow=t("<div/>",v(0,0,0)));break;case"sheet":this.width(),this.height();if(e.fparent=e.opts.turn.data().fparent,!e.fparent){var o=t("<div/>",{css:{"pointer-events":"none"}}).hide();o.data().flips=0,o.css(v(0,0,"auto","visible").css).appendTo(e.opts.turn),e.opts.turn.data().fparent=o,e.fparent=o}this.css({position:"absolute",top:0,left:0,bottom:"auto",right:"auto"}),e.wrapper=t("<div/>",v(0,0,this.css("z-index"))).appendTo(r).prepend(this),e.fwrapper=t("<div/>",v(r.offset().top,r.offset().left)).hide().appendTo(e.fparent),e.fpage=t("<div/>",v(0,0,0,"visible")).css({cursor:"default"}).appendTo(e.fwrapper),i.opts.gradients&&(e.ashadow=t("<div/>",v(0,0,1)).appendTo(e.fpage)),g.setData.call(this,e)}g.resize.call(this,!0)},_fold:function(t){var e=this.data().f,r=e.opts.turn.data(),s=g._c.call(this,t.corner),l=this.width(),d=this.height();switch(e.effect){case"hard":"l"==t.corner?t.x=Math.min(Math.max(t.x,0),2*l):t.x=Math.max(Math.min(t.x,l),-l);var c,p,h,u,f,b=r.totalPages,v=e.opts["z-index"]||b,m={overflow:"visible"},k=s.x?(s.x-t.x)/l:t.x/l,_=90*k,M=_<90;switch(t.corner){case"l":u="0% 50%",f="100% 50%",M?(c=0,p=e.opts.next-1>0,h=1):(c="100%",p=e.opts.page+1<b,h=0);break;case"r":u="100% 50%",f="0% 50%",_=-_,l=-l,M?(c=0,p=e.opts.next+1<b,h=0):(c="-100%",p=1!=e.opts.page,h=1)}m[n+"perspective-origin"]=f,e.wrapper.transform("rotateY("+_+"deg)translate3d(0px, 0px, "+(this.attr("depth")||0)+"px)",f),e.fpage.transform("translateX("+l+"px) rotateY("+(180+_)+"deg)",u),e.parent.css(m),M?(k=1-k,e.wrapper.css({zIndex:v+1}),e.fpage.css({zIndex:v})):(k-=1,e.wrapper.css({zIndex:v}),e.fpage.css({zIndex:v+1})),r.opts.gradients&&(p?e.ashadow.css({display:"",left:c,backgroundColor:"rgba(0,0,0,"+.5*k+")"}).transform("rotateY(0deg)"):e.ashadow.hide(),e.bshadow.css({opacity:1-k}),M?e.bshadow.parent()[0]!=e.wrapper[0]&&e.bshadow.appendTo(e.wrapper):e.bshadow.parent()[0]!=e.fpage[0]&&e.bshadow.appendTo(e.fpage),P(e.bshadow,w(100*h,0),w(100*(1-h),0),[[0,"rgba(0,0,0,0.3)"],[1,"rgba(0,0,0,0)"]],2));break;case"sheet":var O,z,C,j,S,T,E,A=this,F=0,$=w(0,0),W=w(0,0),B=w(0,0),R=g._foldingPage.call(this),N=r.opts.acceleration,I=e.wrapper.height(),Y="t"==t.corner.substr(0,1),D="l"==t.corner.substr(1,1),X=function e(){var n=w(0,0),c=w(0,0);n.x=s.x?s.x-t.x:t.x,n.y=i?s.y?s.y-t.y:t.y:0,c.x=D?l-n.x/2:t.x+n.x/2,c.y=n.y/2;var p=o-Math.atan2(n.y,n.x),h=p-Math.atan2(c.y,c.x),u=Math.max(0,Math.sin(h)*Math.sqrt(Math.pow(c.x,2)+Math.pow(c.y,2)));if(F=p/a*180,B=w(u*Math.sin(p),u*Math.cos(p)),p>o&&(B.x=B.x+Math.abs(B.y*n.y/n.x),B.y=0,Math.round(B.x*Math.tan(a-p))<d))return t.y=Math.sqrt(Math.pow(d,2)+2*c.x*n.x),Y&&(t.y=d-t.y),e();if(p>o){var f=a-p,b=I-d/Math.sin(f);$=w(Math.round(b*Math.cos(f)),Math.round(b*Math.sin(f))),D&&($.x=-$.x),Y&&($.y=-$.y)}O=Math.round(B.y/Math.tan(p)+B.x);var v=l-O,m=v*Math.cos(2*p),y=v*Math.sin(2*p);if(W=w(Math.round(D?v-m:O+m),Math.round(Y?y:d-y)),r.opts.gradients){S=v*Math.sin(p);var x=g._c2.call(A,t.corner),k=Math.sqrt(Math.pow(x.x-t.x,2)+Math.pow(x.y-t.y,2))/l;E=Math.sin(o*(k>1?2-k:k)),T=Math.min(k,1),j=S>100?(S-100)/S:0,z=w(S*Math.sin(p)/l*100,S*Math.cos(p)/d*100),g._backGradient.call(A)&&(C=w(1.2*S*Math.sin(p)/l*100,1.2*S*Math.cos(p)/d*100),D||(C.x=100-C.x),Y||(C.y=100-C.y))}return B.x=Math.round(B.x),B.y=Math.round(B.y),!0},V=function(t,i,n,a){var o=["0","auto"],s=(l-I)*n[0]/100,c=(d-I)*n[1]/100,p={left:o[i[0]],top:o[i[1]],right:o[i[2]],bottom:o[i[3]]},h={},u=90!=a&&-90!=a?D?-1:1:0,f=n[0]+"% "+n[1]+"%";A.css(p).transform(x(a)+y(t.x+u,t.y,N),f),e.fpage.css(p).transform(x(a)+y(t.x+W.x-$.x-l*n[0]/100,t.y+W.y-$.y-d*n[1]/100,N)+x((180/a-2)*a),f),e.wrapper.transform(y(-t.x+s-u,-t.y+c,N)+x(-a),f),e.fwrapper.transform(y(-t.x+$.x+s,-t.y+$.y+c,N)+x(-a),f),r.opts.gradients&&(n[0]&&(z.x=100-z.x),n[1]&&(z.y=100-z.y),h["box-shadow"]="0 0 20px rgba(0,0,0,"+.5*E+")",R.css(h),P(e.ashadow,w(D?100:0,Y?0:100),w(z.x,z.y),[[j,"rgba(0,0,0,0)"],[.8*(1-j)+j,"rgba(0,0,0,"+.2*T+")"],[1,"rgba(255,255,255,"+.2*T+")"]],3),g._backGradient.call(A)&&P(e.bshadow,w(D?0:100,Y?0:100),w(C.x,C.y),[[.6,"rgba(0,0,0,0)"],[.8,"rgba(0,0,0,"+.3*T+")"],[1,"rgba(0,0,0,0)"]],3))};switch(t.corner){case"l":case"r":break;case"tl":t.x=Math.max(t.x,1),X(),V(B,[1,0,0,1],[100,0],F);break;case"tr":t.x=Math.min(t.x,l-1),X(),V(w(-B.x,B.y),[0,0,0,1],[0,0],-F);break;case"bl":t.x=Math.max(t.x,1),X(),V(w(B.x,-B.y),[1,1,0,0],[100,100],-F);break;case"br":t.x=Math.min(t.x,l-1),X(),V(w(-B.x,-B.y),[0,1,1,0],[0,100],F)}}e.point=t},_moveFoldingPage:function(t){var e=this.data().f;if(e){var i=e.opts.turn,n=i.data(),r=n.pagePlace;if(t){var a=e.opts.next;if(r[a]!=e.opts.page)e.folding&&g._moveFoldingPage.call(this,!1),g._foldingPage.call(this).appendTo(e.fpage),r[a]=e.opts.page,e.folding=a;i.turn("update")}else if(e.folding){if(n.pages[e.folding]){var o=n.pages[e.folding].data().f;n.pageObjs[e.folding].appendTo(o.wrapper)}else n.pageWrap[e.folding]&&n.pageObjs[e.folding].appendTo(n.pageWrap[e.folding]);e.folding in r&&(r[e.folding]=e.folding),delete e.folding}}},_showFoldedPage:function(t,e){var i=g._foldingPage.call(this),n=this.data(),r=n.f,a=r.visible;if(i){if(!a||!r.point||r.point.corner!=t.corner){var o="hover"==r.status||"peel"==r.status||r.opts.turn.data().mouseAction?t.corner:null;if(a=!1,"prevented"==M("start",this,[r.opts,o]))return!1}if(e){var s=this,l=r.point&&r.point.corner==t.corner?r.point:g._c.call(this,t.corner,1);this.animatef({from:[l.x,l.y],to:[t.x,t.y],duration:500,frame:function(e){t.x=Math.round(e[0]),t.y=Math.round(e[1]),g._fold.call(s,t)}})}else g._fold.call(this,t),n.effect&&!n.effect.turning&&this.animatef(!1);if(!a)switch(r.effect){case"hard":r.visible=!0,g._moveFoldingPage.call(this,!0),r.fpage.show(),r.opts.shadows&&r.bshadow.show();break;case"sheet":r.visible=!0,r.fparent.show().data().flips++,g._moveFoldingPage.call(this,!0),r.fwrapper.show(),r.bshadow&&r.bshadow.show()}return!0}return!1},hide:function(){var t=this.data().f,e=t.opts.turn.data(),i=g._foldingPage.call(this);switch(t.effect){case"hard":e.opts.gradients&&(t.bshadowLoc=0,t.bshadow.remove(),t.ashadow.hide()),t.wrapper.transform(""),t.fpage.hide();break;case"sheet":0==--t.fparent.data().flips&&t.fparent.hide(),this.css({left:0,top:0,right:"auto",bottom:"auto"}).transform(""),t.wrapper.transform(""),t.fwrapper.hide(),t.bshadow&&t.bshadow.hide(),i.transform("")}return t.visible=!1,this},hideFoldedPage:function(t){var e=this.data().f;if(e.point){var i=this,n=e.point,r=function(){e.point=null,e.status="",i.flip("hide"),i.trigger("end",[e.opts,!1])};if(t){var a=g._c.call(this,n.corner),o="t"==n.corner.substr(0,1)?Math.min(0,n.y-a.y)/2:Math.max(0,n.y-a.y)/2,s=w(n.x,n.y+o),l=w(a.x,a.y-o);this.animatef({from:0,to:1,frame:function(t){var e=m(n,s,l,a,t);n.x=e.x,n.y=e.y,g._fold.call(i,n)},complete:r,duration:800,hiding:!0})}else this.animatef(!1),r()}},turnPage:function(t){var e=this,i=this.data().f,n=i.opts.turn.data();t={corner:i.corner?i.corner.corner:t||g._cAllowed.call(this)[0]};var r=i.point||g._c.call(this,t.corner,i.opts.turn?n.opts.elevation:0),a=g._c2.call(this,t.corner);this.trigger("flip").animatef({from:0,to:1,frame:function(i){var n=m(r,r,a,a,i);t.x=n.x,t.y=n.y,g._showFoldedPage.call(e,t)},complete:function(){e.trigger("end",[i.opts,!0])},duration:n.opts.duration,turning:!0}),i.corner=null},moving:function(){return"effect"in this.data()},isTurning:function(){return this.flip("moving")&&this.data().effect.turning},corner:function(){return this.data().f.corner},_eventStart:function(t){var e=this.data().f,i=e.opts.turn;if(!e.corner&&!e.disabled&&!this.flip("isTurning")&&e.opts.page==i.data().pagePlace[e.opts.page]){if(e.corner=g._isIArea.call(this,t),e.corner&&g._foldingPage.call(this))return this.trigger("pressed",[e.point]),g._showFoldedPage.call(this,e.corner),!1;e.corner=null}},_eventMove:function(t){var e=this.data().f;if(!e.disabled)if(t=s?t.originalEvent.touches:[t],e.corner){var i=e.parent.offset();e.corner.x=t[0].pageX-i.left,e.corner.y=t[0].pageY-i.top,g._showFoldedPage.call(this,e.corner)}else if(e.hover&&!this.data().effect&&this.is(":visible")){var n=g._isIArea.call(this,t[0]);if(n){if("sheet"==e.effect&&2==n.corner.length||"hard"==e.effect){e.status="hover";var r=g._c.call(this,n.corner,e.opts.cornerSize/2);n.x=r.x,n.y=r.y,g._showFoldedPage.call(this,n,!0)}}else"hover"==e.status&&(e.status="",g.hideFoldedPage.call(this,!0))}},_eventEnd:function(){var t=this.data().f,e=t.corner;!t.disabled&&e&&"prevented"!=M("released",this,[t.point||e])&&g.hideFoldedPage.call(this,!0),t.corner=null},disable:function(t){return g.setData.call(this,{disabled:t}),this},hover:function(t){return g.setData.call(this,{hover:t}),this},peel:function(e,i){var n=this.data().f;if(e){if(-1==t.inArray(e,d.all))throw O("Corner "+e+" is not permitted");if(-1!=t.inArray(e,g._cAllowed.call(this))){var r=g._c.call(this,e,n.opts.cornerSize/2);n.status="peel",g._showFoldedPage.call(this,{corner:e,x:r.x,y:r.y},i)}}else n.status="",g.hideFoldedPage.call(this,i);return this}};function b(t,e,i){if(i[0]&&"object"!=r(i[0])){if(e[i[0]])return e[i[0]].apply(t,Array.prototype.slice.call(i,1));throw O(i[0]+" is not a method or property")}return e.init.apply(t,i)}function v(t,e,i,n){return{css:{position:"absolute",top:t,left:e,overflow:n||"hidden",zIndex:i||"auto"}}}function m(t,e,i,n,r){var a=1-r,o=a*a*a,s=r*r*r;return w(Math.round(o*t.x+3*r*a*a*e.x+3*r*r*a*i.x+s*n.x),Math.round(o*t.y+3*r*a*a*e.y+3*r*r*a*i.y+s*n.y))}function w(t,e){return{x:t,y:e}}function y(t,i,n){return e&&n?" translate3d("+t+"px,"+i+"px, 0px) ":" translate("+t+"px, "+i+"px) "}function x(t){return" rotate("+t+"deg) "}function k(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function _(){for(var t=["Moz","Webkit","Khtml","O","ms"],e=t.length,i="";e--;)t[e]+"Transform"in document.body.style&&(i="-"+t[e].toLowerCase()+"-");return i}function P(t,e,i,r,a){var o,s=[];if("-webkit-"==n){for(o=0;o<a;o++)s.push("color-stop("+r[o][0]+", "+r[o][1]+")");t.css({"background-image":"-webkit-gradient(linear, "+e.x+"% "+e.y+"%,"+i.x+"% "+i.y+"%, "+s.join(",")+" )"})}else{e={x:e.x/100*t.width(),y:e.y/100*t.height()};var l=(i={x:i.x/100*t.width(),y:i.y/100*t.height()}).x-e.x,d=i.y-e.y,c=Math.atan2(d,l),p=c-Math.PI/2,h=Math.abs(t.width()*Math.sin(p))+Math.abs(t.height()*Math.cos(p)),u=Math.sqrt(d*d+l*l),f=w(i.x<e.x?t.width():0,i.y<e.y?t.height():0),g=Math.tan(c),b=-1/g,v=(b*f.x-f.y-g*e.x+e.y)/(b-g),m={x:v,y:b*v-b*f.x+f.y},y=Math.sqrt(Math.pow(m.x-e.x,2)+Math.pow(m.y-e.y,2));for(o=0;o<a;o++)s.push(" "+r[o][1]+" "+100*(y+u*r[o][0])/h+"%");t.css({"background-image":n+"linear-gradient("+-c+"rad,"+s.join(",")+")"})}}function M(e,i,n){var r=t.Event(e);return i.trigger(r,n),r.isDefaultPrevented()?"prevented":r.isPropagationStopped()?"stopped":""}function O(t){function e(t){this.name="TurnJsError",this.message=t}return e.prototype=new Error,e.prototype.constructor=e,new e(t)}function z(t){var e={top:0,left:0};do{e.left+=t.offsetLeft,e.top+=t.offsetTop}while(t=t.offsetParent);return e}window.requestAnim=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},t.extend(t.fn,{flip:function(){return b(t(this[0]),g,arguments)},turn:function(){return b(t(this[0]),f,arguments)},transform:function(t,e){var i={};return e&&(i[n+"transform-origin"]=e),i[n+"transform"]=t,this.css(i)},animatef:function(e){var i=this.data();if(i.effect&&i.effect.stop(),e){e.to.length||(e.to=[e.to]),e.from.length||(e.from=[e.from]);for(var n=[],r=e.to.length,a=!0,o=this,s=(new Date).getTime(),l=0;l<r;l++)n.push(e.to[l]-e.from[l]);i.effect=t.extend({stop:function(){a=!1},easing:function(t,e,i,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+i}},e),this.data(i),function t(){if(i.effect&&a){for(var l=[],d=Math.min(e.duration,(new Date).getTime()-s),c=0;c<r;c++)l.push(i.effect.easing(1,d,e.from[c],n[c],e.duration));e.frame(1==r?l[0]:l),d==e.duration?(delete i.effect,o.data(i),e.complete&&e.complete()):window.requestAnim(t)}}()}else delete i.effect}}),t.isTouch=s,t.mouseEvents=l,t.cssPrefix=_,t.cssTransitionEnd=function(){var t,e=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(void 0!==e.style[t])return i[t]},t.findPos=z}(i);var lt=Q({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{key:this.componentKey,staticClass:"flip-book",attrs:{"data-uid":this.uid}},[this._t("default")],2)},staticRenderFns:[]},(function(t){t&&t("data-v-4ce21cc9_0",{source:".flip-book[data-v-4ce21cc9]{width:800px;height:600px;position:relative;margin:10px}",map:void 0,media:void 0})}),{name:"Turn",data:function(){return{nanoid:n.nanoid(),componentKey:0}},props:{options:{type:Object,default:function(){}}},watch:{defaultOptions:{handler:function(t){this.forceRerender(t)},deep:!0}},computed:{uid:function(){return"jopa-".concat(this.nanoid)},selector:function(){return"div[data-uid=".concat(this.uid,"]")},defaultOptions:function(){var t=this;return l({width:800,height:600,display:"double",duration:1800,page:1,when:{turning:function(e,i,n){t.currentPage=i},first:function(){t.first()},last:function(){t.last()}}},this.options)}},mounted:function(){i(this.selector).turn(this.defaultOptions)},methods:{goTo:function(t){i(this.selector).turn("page",t)},first:function(){},last:function(){},forceRerender:function(t){var e=this;this.nanoid=n.nanoid(),this.componentKey+=1,this.$nextTick((function(){return i(e.selector).turn(t)}))}}},"data-v-4ce21cc9",!1,void 0,!1,et,void 0,void 0),dt=D({components:{FwTurn:lt}}),ct=D({plugins:{BookblockPlugin:at,Bookblock2Plugin:st,TurnPlugin:dt}}),pt=(0,G.installFactory)({plugins:{componentsPlugin:ct}}),ht={install:pt,NAME:"FlippingWidgets"};return t.Bookblock=rt,t.Bookblock2=ot,t.Bookblock2Plugin=st,t.BookblockPlugin=at,t.FlippingWidgets=ht,t.FwBookblock=rt,t.FwBookblock2=ot,t.FwTurn=lt,t.NAME="FlippingWidgets",t.Turn=lt,t.TurnPlugin=dt,t.default=ht,t.install=pt,t}({},Vue,$,nanoid);